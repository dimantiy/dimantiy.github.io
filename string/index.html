<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>String - dimantiy.github.io</title>
    <link rel="stylesheet" href="../assets/css/foundation.css" />
    <link rel="stylesheet" href="../assets/css/dimantiy.css" />
    <script src="../assets/js/vendor/modernizr.js"></script>
  </head>
  <body>
    
	<header>
		<div class="row">
			<div class="large-12 columns">
				<h1>dimantiy.github.io</h1>
			</div>
		</div>
    </header>
	
	<article>
		<div class="row">
			<div class="large-12 columns">
				<h1>Струна</h1>
				<p>Звук каждой ноты сгенерирован на основе математической модели струны.</p>
			</div>
		</div>
		<div class="row">
			<div class="large-12 columns">
				<h3>Ноты</h3>
				<button class="button" onclick="play('C')">До - 262Гц</button>
				<button class="button" onclick="play('D')">Ре - 294Гц</button>
				<button class="button" onclick="play('E')">Ми - 330Гц</button>
				<button class="button" onclick="play('F')">Фа - 349Гц</button>
				<button class="button" onclick="play('G')">Соль - 392Гц</button>
				<button class="button" onclick="play('A')">Ля - 440Гц</button>
				<button class="button" onclick="play('B')">Си - 494Гц</button>
				<button class="button" onclick="play('C2')">До - 524Гц</button>
			</div>
		</div>
		<div class="row">
			<div class="large-12 columns">
				<h3>Мелодии</h3>
				<button class="button" onclick="playSong('JB')">Jingle Bells</button>
				<button class="button" onclick="playSong('LT')">Ёлочка</button>
			</div>
		</div>
	</article>
	
	<footer>
		<div class="row">
			<div class="large-12 columns">
				<p>
					&copy; Паньков Дмитрий Игоревич
				</p>
			</div>
		</div>
	</footer>
	
	
    <script src="../assets/js/vendor/jquery.js"></script>
    <script src="../assets/js/foundation.min.js"></script>
	<script src="../assets/js/dimantiy.js"></script>
	<!--<script src="assets/js/vendor/riffwave.js"></script>-->
	<script src="string.js"></script>
    <script>
      $(document).foundation();
    </script>
	<script>
		var strings = {};
		var melodies = {};
		function play(note) {
			var s = strings[note];
			if (s) {
				s.play();
			}
		}
		function playSong(name)
		{
			var m = melodies[name];
			if (m)
			{
				m.toggle();
			}
		}
		(function (strings, melodies) {
			var Q = 880 / 440;
			var keys = {
				C: 262,
				D: 294,
				E: 330,
				F: 349,
				G: 392,
				A: 440,
				B: 494,
				C2: 524
			};
			for (var k in keys) {
				strings[k] = new DP.String({
					Acceleration: keys[k] * Q,
					Harmonics: 5
				});
			}
			for (var s in strings) {
				strings[s].run();
			}
			
			melodies["JB"] = new DP.Melody({
				Tick: 200,
				Strings: strings,
				Notes: [
					{ Key: "E", Length: 2 },
					{ Key: "E", Length: 2 },
					{ Key: "E", Length: 4 },
					
					{ Key: "E", Length: 2 },
					{ Key: "E", Length: 2 },
					{ Key: "E", Length: 4 },
					
					{ Key: "E", Length: 2 },
					{ Key: "G", Length: 2 },
					{ Key: "C", Length: 2 },
					{ Key: "D", Length: 2 },
					
					{ Key: "E", Length: 4 },
					
					{ Key: "F", Length: 2 },
					{ Key: "F", Length: 2 },
					{ Key: "F", Length: 3 },
					{ Key: "F", Length: 1 },
					
					{ Key: "F", Length: 2 },
					{ Key: "E", Length: 2 },
					{ Key: "E", Length: 2 },
					{ Key: "E", Length: 1 },
					{ Key: "E", Length: 1 },
					
					{ Key: "E", Length: 2 },
					{ Key: "D", Length: 2 },
					{ Key: "D", Length: 2 },
					{ Key: "E", Length: 2 },
					
					{ Key: "D", Length: 4 },
					{ Key: "G", Length: 4 },
					
					{ Key: "E", Length: 2 },
					{ Key: "E", Length: 2 },
					{ Key: "E", Length: 4 },
					
					{ Key: "E", Length: 2 },
					{ Key: "E", Length: 2 },
					{ Key: "E", Length: 4 },
					
					{ Key: "E", Length: 2 },
					{ Key: "G", Length: 2 },
					{ Key: "C", Length: 2 },
					{ Key: "D", Length: 2 },
					
					{ Key: "E", Length: 4 },
					
					{ Key: "F", Length: 2 },
					{ Key: "F", Length: 2 },
					{ Key: "F", Length: 3 },
					{ Key: "F", Length: 1 },
					
					{ Key: "F", Length: 2 },
					{ Key: "E", Length: 2 },
					{ Key: "E", Length: 2 },
					{ Key: "E", Length: 1 },
					{ Key: "E", Length: 1 },
					
					{ Key: "G", Length: 2 },
					{ Key: "G", Length: 2 },
					{ Key: "F", Length: 2 },
					{ Key: "D", Length: 2 },
					
					{ Key: "C", Length: 4 }
				]
			});
			
			melodies["LT"] = new DP.Melody({
				Tick: 400,
				Strings: strings,
				Notes: [
					{ Key: "G", Length: 2 },
					{ Key: "E", Length: 1 },
					{ Key: "E", Length: 1 },
					
					{ Key: "G", Length: 2 },
					{ Key: "E", Length: 1 },
					{ Key: "E", Length: 1 },
					
					{ Key: "G", Length: 1 },
					{ Key: "F", Length: 1 },
					{ Key: "E", Length: 1 },
					{ Key: "D", Length: 1 },
					
					{ Key: "C", Length: 4 },
					
					{ Key: "A", Length: 2 },
					{ Key: "C2", Length: 1 },
					{ Key: "A", Length: 1 },
					
					{ Key: "G", Length: 2 },
					{ Key: "E", Length: 1 },
					{ Key: "E", Length: 1 },
					
					{ Key: "G", Length: 1 },
					{ Key: "F", Length: 1 },
					{ Key: "E", Length: 1 },
					{ Key: "D", Length: 1 },
					
					{ Key: "C", Length: 4 }
				]
			});
			
		})(strings, melodies);
	</script>
  </body>
</html>
